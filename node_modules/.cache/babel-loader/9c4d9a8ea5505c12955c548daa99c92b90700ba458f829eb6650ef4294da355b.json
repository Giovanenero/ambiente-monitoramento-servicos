{"ast":null,"code":"var _jsxFileName = \"/home/lapti/ambiente-monitoramento-servicos/src/components/Service.jsx\",\n  _s = $RefreshSig$();\nimport styles from \"./../assets/components/Service.module.css\";\nimport ServidorIcon from \"../assets/icons/jsxIcons/ServidorIcon\";\nimport { Link } from \"react-router-dom\";\nimport endpoint from \"../endpoint/UserStorage\";\nimport { useState, useEffect } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction Service(_ref) {\n  _s();\n  let {\n    nameService,\n    logo,\n    css,\n    path\n  } = _ref;\n  const [imgService, setImgService] = useState(\"\");\n  const [infoService, setInfoService] = useState(\"\");\n  const [useMemory, setUseMemory] = useState(\"\");\n  function memoryMongo() {\n    // endpoint.mongomemoryusegraph(localStorage.getItem(\"token\"))\n    // .then(data => {\n    //     setUseMemory((data[0].MemoryUse/1000).toFixed(2));\n    // })\n    // .catch(error => console.log(error));\n  }\n  function memoryJava() {\n    // endpoint.javamemoryusegraph(localStorage.getItem(\"token\"))\n    //     .then(data => {\n    //     setUseMemory((data[0].MemoryUse/1000).toFixed(2));\n    // })\n    // .catch(error => console.log(error));\n  }\n  function memoryServidor() {\n    endpoint.servermemoryusegraph(localStorage.getItem(\"token\")).then(data => {\n      console.log(data);\n      let total = parseInt(data[0].MemoryTotal);\n      let memoryUse = parseInt(data[0].MemoryUse);\n      let porcentage = memoryUse / total / 1000;\n      setUseMemory({\n        Gb: memoryUse,\n        procentage: porcentage.toFixed(2)\n      });\n    }).catch(error => console.log(error));\n  }\n  useEffect(() => {\n    if (nameService === \"MongoDB\" || nameService === \"Java\" || nameService === \"Spring\" || nameService === \"Spark\") {\n      setImgService( /*#__PURE__*/_jsxDEV(\"img\", {\n        src: logo,\n        alt: logo,\n        className: css\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 27\n      }, this));\n      if (nameService === \"MongoDB\") {\n        memoryMongo();\n      } else {\n        memoryJava();\n      }\n    } else {\n      setImgService( /*#__PURE__*/_jsxDEV(\"div\", {\n        className: css,\n        children: /*#__PURE__*/_jsxDEV(ServidorIcon, {\n          style: {\n            size: 70\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 48\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 27\n      }, this));\n      memoryServidor();\n    }\n    // eslint-disable-next-line\n  }, []);\n  useEffect(() => {\n    if (nameService === \"MongoDB\" || nameService === \"Java\") {\n      setInfoService( /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"STATUS\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Conectado/Desconectado\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"USO DA MEM\\xD3RIA\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true));\n    } else {\n      endpoint.mongodiskuse(localStorage.getItem(\"token\")).then(data => {\n        setInfoService( /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"USO DE DISCO\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: (data / 1000).toFixed(2) + \"GB\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"USO DA MEM\\xD3RIA\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: useMemory.Gb + \"Gb\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true));\n      }).catch(error => console.log(error));\n    }\n    // eslint-disable-next-line\n  }, [useMemory]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: styles.containerService,\n    children: [imgService, /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.title,\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        children: nameService\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 15\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.containerInfo,\n      children: infoService\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Link, {\n      to: {\n        pathname: path,\n        state: {\n          logo: logo\n        }\n      },\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        children: \"Ver mais\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 93,\n    columnNumber: 9\n  }, this);\n}\n_s(Service, \"u7aX3yzEh6z3cSGQRonHdU0dt3E=\");\n_c = Service;\nexport default Service;\nvar _c;\n$RefreshReg$(_c, \"Service\");","map":{"version":3,"names":["styles","ServidorIcon","Link","endpoint","useState","useEffect","Service","nameService","logo","css","path","imgService","setImgService","infoService","setInfoService","useMemory","setUseMemory","memoryMongo","memoryJava","memoryServidor","servermemoryusegraph","localStorage","getItem","then","data","console","log","total","parseInt","MemoryTotal","memoryUse","MemoryUse","porcentage","Gb","procentage","toFixed","catch","error","size","mongodiskuse","containerService","title","containerInfo","pathname","state"],"sources":["/home/lapti/ambiente-monitoramento-servicos/src/components/Service.jsx"],"sourcesContent":["import styles from \"./../assets/components/Service.module.css\";\nimport ServidorIcon from \"../assets/icons/jsxIcons/ServidorIcon\";\nimport { Link } from \"react-router-dom\";\n\nimport endpoint from \"../endpoint/UserStorage\";\n\nimport { useState, useEffect } from \"react\";\nfunction Service({\n    nameService,\n    logo,\n    css,\n    path,\n}){\n    const [imgService, setImgService] = useState(\"\");\n    const [infoService, setInfoService] = useState(\"\");\n    const [useMemory, setUseMemory] = useState(\"\");\n\n\n    function memoryMongo(){\n        // endpoint.mongomemoryusegraph(localStorage.getItem(\"token\"))\n        // .then(data => {\n        //     setUseMemory((data[0].MemoryUse/1000).toFixed(2));\n        // })\n        // .catch(error => console.log(error));\n    }\n\n    function memoryJava(){\n        // endpoint.javamemoryusegraph(localStorage.getItem(\"token\"))\n        //     .then(data => {\n        //     setUseMemory((data[0].MemoryUse/1000).toFixed(2));\n        // })\n        // .catch(error => console.log(error));\n    }\n\n    function memoryServidor(){\n        endpoint.servermemoryusegraph(localStorage.getItem(\"token\"))\n        .then(data => {\n            console.log(data);\n            let total = parseInt(data[0].MemoryTotal);\n            let memoryUse = parseInt(data[0].MemoryUse);\n            let porcentage = (memoryUse/total)/1000;\n            setUseMemory({\n                Gb: memoryUse,\n                procentage: porcentage.toFixed(2),\n            });\n        })\n        .catch(error => console.log(error));\n    }  \n\n    useEffect(() => {\n        if(nameService === \"MongoDB\" || nameService === \"Java\" || nameService === \"Spring\" || nameService === \"Spark\"){\n            setImgService(<img src={logo} alt={logo} className={css}/>)\n            if(nameService === \"MongoDB\"){\n                memoryMongo();\n            } else {\n                memoryJava();\n            }\n        } else {\n            setImgService(<div className={css}><ServidorIcon style={{size: 70}}/></div>);\n            memoryServidor();\n        }\n        // eslint-disable-next-line\n    }, []);\n\n    useEffect(() => {\n        if(nameService === \"MongoDB\" || nameService === \"Java\"){\n            setInfoService(\n                <>\n                    <h2>STATUS</h2>\n                    <p>Conectado/Desconectado</p>\n                    <h2>USO DA MEMÓRIA</h2>\n                    {/* <p>{useMemory.Gb + \"Gb\"}</p> */}\n                </>\n            )\n        } else {\n            endpoint.mongodiskuse(localStorage.getItem(\"token\"))\n            .then(data => {\n                setInfoService(\n                    <>\n                        <h2>USO DE DISCO</h2>\n                        <p>{(data/1000).toFixed(2) + \"GB\"}</p>\n                        <h2>USO DA MEMÓRIA</h2>\n                        <p>{useMemory.Gb + \"Gb\"}</p>\n                    </>\n                )\n            })\n            .catch(error => console.log(error));\n        }\n        // eslint-disable-next-line\n    }, [useMemory]);\n\n    return (\n        <div className={styles.containerService}>\n            {imgService}\n            <div className={styles.title}>\n              <p>{nameService}</p>  \n            </div>\n            <div className={styles.containerInfo}>\n                {infoService}\n            </div>\n            <Link to={{pathname: path, state: {logo: logo}}}>\n                <button>Ver mais</button>\n            </Link>\n        </div>\n    )\n}\n\nexport default Service;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}